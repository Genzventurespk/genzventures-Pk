if (Modernizr) {
  const unsupportedBrowserHeader = document.getElementById('unsupported-browser');

  Modernizr.addTest('replaceAll', () => {
      return typeof String.prototype.replaceAll === 'function';
  });

  Modernizr.addTest('privateFields', () => {
    try {
        class Test {
            #privateField = 42;
            getPrivateField() {
                return this.#privateField;
            }
        }

        const instance = new Test();
        return instance.getPrivateField() === 42;
    } catch (e) {
        return false;
    }
  });

  const outdatedFeatures = Object.keys(Modernizr).filter(feature => !Modernizr[feature]);

  if (unsupportedBrowserHeader) {
    if (outdatedFeatures.length > 0) {
      unsupportedBrowserHeader.style.display = 'block';
    } else {
      unsupportedBrowserHeader.remove();
    }
  }
}
